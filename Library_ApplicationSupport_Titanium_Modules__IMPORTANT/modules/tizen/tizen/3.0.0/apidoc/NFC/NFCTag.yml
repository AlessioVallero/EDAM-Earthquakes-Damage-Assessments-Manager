name: Modules.Tizen.NFC.NFCTag
summary: |
  Accesses to the NFC tag.
extends: Titanium.Proxy
createable: false
properties:

  - name: type
    type: String
    summary: |
        The type of the NFC tag. Valid values are:

        - <Modules.Tizen.NFC.NFC_TAG_TYPE_GENERIC_TARGET>
        - <Modules.Tizen.NFC.NFC_TAG_TYPE_ISO14443_A>
        - <Modules.Tizen.NFC.NFC_TAG_TYPE_ISO14443_4A>
        - <Modules.Tizen.NFC.NFC_TAG_TYPE_ISO14443_3A>
        - <Modules.Tizen.NFC.NFC_TAG_TYPE_MIFARE_MINI>
        - <Modules.Tizen.NFC.NFC_TAG_TYPE_MIFARE_1K>
        - <Modules.Tizen.NFC.NFC_TAG_TYPE_MIFARE_4K>
        - <Modules.Tizen.NFC.NFC_TAG_TYPE_MIFARE_ULTRA>
        - <Modules.Tizen.NFC.NFC_TAG_TYPE_MIFARE_DESFIRE>
        - <Modules.Tizen.NFC.NFC_TAG_TYPE_ISO14443_B>
        - <Modules.Tizen.NFC.NFC_TAG_TYPE_ISO14443_4B>
        - <Modules.Tizen.NFC.NFC_TAG_TYPE_ISO14443_BPRIME>
        - <Modules.Tizen.NFC.NFC_TAG_TYPE_FELICA>
        - <Modules.Tizen.NFC.NFC_TAG_TYPE_JEWEL>
        - <Modules.Tizen.NFC.NFC_TAG_TYPE_ISO15693>
        - <Modules.Tizen.NFC.NFC_TAG_TYPE_UNKNOWN_TARGET>
        
    permission: read-only

  - name: isSupportedNDEF
    type: Boolean
    summary: |
        The value is necessary to check if the NFC Tag supports NDEF format.
    permission: read-only

  - name: ndefSize
    type: Number
    summary: |
        The size of NDEF message stored in the tag.
    permission: read-only

  - name: properties
    type: Array<Object>
    summary: |
        The value is all tag information. It is pairs of key and value. 
    description: |
        The array's index is the pair's key and value is its value.
    permission: read-only

  - name: isConnected
    type: Boolean
    summary: |
        The value is necessary to check if this tag is connected.
    permission: read-only

methods:
  - name: writeNDEF
    summary: Writes NDEF data to the NFC tag.
    description: |
        To use this method, you must include the following privilege in the `tiapp.xml` file of your 
            Titanium application:  

        * `http://tizen.org/privilege/nfc.tag`
        
    parameters:
      - name: ndefMessage
        summary: NDEF message to write to NFC tag.
        type: Modules.Tizen.NFC.NDEFMessage

      - name: callback  
        summary: |
            Invoked in case of successfully writing the NDEF Data or in case of any error during 
            writing the NDEF Data.
        type: Callback<ErrorResponse>
        optional: true

  - name: readNDEF
    summary: Reads NDEF data from the NFC tag.
    description: |
        To use this method, you must include the following privilege in the `tiapp.xml` file of your 
        Titanium application:  

        * `http://tizen.org/privilege/nfc.tag`

    parameters:
      - name: callback 
        summary: |
            Invoked in case of successfully reading the NDEF Data or any error during reading 
            the NDEF Data.
        type: Callback<NDEFReadResponse>

  - name: transceive
    summary: Access the raw format card.
    description: |
        Transceive function is the only way to access the raw format card (not formatted). 
        Each tag type requires its own command to access tags. This API provides low level access
        of tag operation. (Note that you must know each tag technology.)
        
        To use this method, you must include the following privilege in the `tiapp.xml` file of your 
        Titanium application:  

        * `http://tizen.org/privilege/nfc.tag`
        
    parameters:
      - name: data 
        summary: Raw data to transceive with the NFC tag.
        type: Array<Number>

      - name: callback  
        summary: Invoked in case of successfully transceiving the raw data or if any error occured.
        type: Callback<TransceiveResponse>

# Pseudo-type
---
name: NDEFReadResponse
summary: |
    Simple object returned in the callback from the
    [readNDEF](Modules.Tizen.NFC.NFCTag.readNDEF) method.
extends: ErrorResponse
properties:
  - name: success
    summary: Indicates if the operation succeeded.
    description: Returns `true` if request succeeded, `false` otherwise.
    type: Boolean
    
  - name: error
    summary: Error message, if any returned.
    description: Will be undefined if `success` is `true`.
    type: String
    
  - name: code
    summary: Error code. Returns 0 if `success` is `true`.
    description: |
        Error code will be 0 if `success` is `true`, nonzero otherwise. If the error
        was generated by the operating system, that system's error value is used.
        Otherwise, this value will be -1.
    type: Number

  - name: ndefMessage
    summary: NDEF message that is read from the NFC tag or target.
    description: Will be undefined if `success` is `false`.
    type: Modules.Tizen.NFC.NDEFMessage

---
name: TransceiveResponse
summary: |
    Simple object returned in the callback from the
    [transceive](Modules.Tizen.NFC.NFCTag.transceive) method.
extends: ErrorResponse
properties:
  - name: success
    summary: Indicates if the operation succeeded.
    description: Returns `true` if request succeeded, `false` otherwise.
    type: Boolean
    
  - name: error
    summary: Error message, if any returned.
    description: Will be undefined if `success` is `true`.
    type: String
    
  - name: code
    summary: Error code. Returns 0 if `success` is `true`.
    description: |
        Error code will be 0 if `success` is `true`, nonzero otherwise. If the error
        was generated by the operating system, that system's error value is used.
        Otherwise, this value will be -1.
    type: Number

  - name: data
    summary: Raw data that is read from NFC tag or response of transive operation.
    description: Will be undefined if `success` is `false`.
    type: Array<Number>
